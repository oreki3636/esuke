<div class="container">
  <div class="row">
    <div class="col-12">
      <h2 class="title">Esuke point history</h2>
      <h1>全<%= @points.count %> Point</h1>

      <table class="table">
        <thead>
          <tr>
            <th>ToDoリスト内容</th>
            <th>獲得ポイント</th>
            <th>進捗ステータス</th>
            <th>投稿日時</th>
            <th>完了日時</th>
          </tr>
        </thead>
        <tbody>
          <% @todolists.each do |todolist| %>
            <tr>
              <td><%= todolist.list %></td>
              <td><%= todolist.points.count %>ポイント</td>
              <td>
                <% if todolist.check? %>
                  完了済
                <% else %>
                  投稿済
                <% end %>
              </td>
              <td><%= todolist.created_at.in_time_zone('Tokyo').strftime('%Y/%m/%d') %></td>
              <td>
                <% if todolist.completed_datetime.present? %>
                  <%= todolist.completed_datetime.in_time_zone('Tokyo').strftime('%Y/%m/%d %H:%M') %>
                <% else %>
                  未完了
                <% end %>
              </td>
            </tr>
            <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<style>
  .table {
    width: max-content;
  }
</style>